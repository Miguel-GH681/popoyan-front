<div class="container">
    <div class="pt-4">
        <h2>Buscador</h2>
        <p>
            Ingrese el nombre científico o el nombre común de una planta para obtener un listado de plantas.
        </p>
        <div class="row d-flex justify-content-center">
            <div class="col-lg-5 form-container">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Ingrese una palabra" aria-label="Username" aria-describedby="basic-addon1" [(ngModel)]="keyword">
                </div>
                <button type="submit" class="btn btn-success" (click)="getPlants()">Buscar</button>
            </div>
        </div>
    </div>
    <div *ngIf="plantsCollection.length > 0">
        <table class="table table-bordered table-striped mt-5">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">fotografía</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let plant of paginatedPlants; let i = index" (click)="navigateTo(i)">
                    <td>{{plant.order}}</td>
                    <td>{{plant.name}}</td>
                    <td class="d-flex justify-content-center"><img [src]="'data:image/png;base64,' + plant.img" [alt]="plant.name" height="70px" width="70px"></td>
                </tr>
            </tbody>
        </table>
        <nav>
            <ul class="pagination justify-content-center">
                <li class="page-item" [class.disabled]="currentPage === 1">
                    <button class="page-link" (click)="changePage(currentPage - 1)">Anterior</button>
                </li>

                <li class="page-item" *ngFor="let pagina of [].constructor(getTotalPages); let i = index" [class.active]="currentPage === i + 1">
                    <button class="page-link" (click)="changePage(i + 1)">{{ i + 1 }}</button>
                </li>

                <li class="page-item" [class.disabled]="currentPage === getTotalPages">
                    <button class="page-link" (click)="changePage(currentPage + 1)">Siguiente</button>
                </li>
            </ul>
        </nav>
    </div>
</div>